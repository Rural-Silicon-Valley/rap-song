# 项目更新日志

## 2025年更新 - Lightning Flow 子页面全面重制（v1.1.0）

### 版本亮点

#### 1. 多页面视觉焕新 ✅

- 说唱教程、节奏练习、歌曲库、混音教程与设备推荐全量重构
- 引入 `LightningCanvas` WebGL 能量效果，使子页面视觉与首页保持一致
- 新增节奏实验室、混音工具链等内容版块，突出说唱教学特色

#### 2. 动画与交互增强 ⚡

- 全局接入 `animation-controller`，支持滚动渐显、按钮倾斜和 CTA 悬停特效
- 各页面指标卡、工具列表与 CTA 支持 `data-animate` 分层触发
- `LightningCanvas` 增强指针追踪、色相脉冲与律动偏移，实现 60fps 互动

#### 3. 结构与可维护性 🧱

- 新增 `PageHero.vue`、`SectionHeader.vue` 等复用组件，统一布局
- `pages-style.css` 扩展 Lightning Flow 专属栅格、工具卡片与响应式样式
- `package.json` 版本号提升至 `1.1.0`，同步更新后端包版本

#### 4. 部署与回退准备 🚀

- 成功通过 `npm run build` 生产构建
- 建议使用 `git tag v1.1.0` 记录版本，便于未来回滚与自动化部署

---

## 2024年更新 - 歌单扩展至50首 + 音频转换工具

### 主要更新内容

#### 1. 歌单扩展 ✅

- **国语区**: 从16首扩展到50首
  - 包含GAI周延、VAVA、周杰伦、邓紫棋等热门歌手
  - 涵盖说唱、流行、古风等多种风格
- **欧美区**: 从16首扩展到50首
  - Eminem、Kendrick Lamar、Drake、Travis Scott等经典说唱歌手
  - 包含经典和现代说唱金曲
- **日韩区**: 从16首扩展到50首
  - BTS、BLACKPINK、BIGBANG、G-DRAGON等K-Pop巨星
  - 精选带有说唱元素的热门歌曲

#### 2. 网易云音乐转MP3工具 🎵

- **拖拽上传**: 支持拖拽文件到上传区域
- **多文件处理**: 可同时选择多个音频文件进行批量转换
- **支持格式**:
  - NCM (网易云音乐加密格式)
  - FLAC (无损音频)
  - WAV (波形音频)
  - M4A (MPEG-4音频)
  - MP3
  - OGG
  - AAC
- **进度显示**: 实时显示转换进度
- **自动下载**: 转换完成后自动下载为WAV格式

### 技术实现

#### 数据管理

- 创建独立的 `rap-songs-data.js` 数据文件
- 使用JavaScript对象存储所有歌曲信息
- 动态生成HTML卡片，提高维护性

#### 音频转换

- 使用 Web Audio API 进行音频解码
- FileReader API 读取本地文件
- AudioBuffer 转 WAV 格式算法
- Blob API 创建下载文件

### 文件结构

```text
rap-tutorial.html       # 主页面(简化版,歌曲通过JS加载)
rap-songs-data.js       # 歌曲数据库(150首歌曲)
styles.css              # 样式文件
```

### 使用说明

#### 浏览歌曲

1. 打开 `rap-tutorial.html`
2. 点击顶部的区域标签(国语区/欧美区/日韩区)
3. 浏览50首精选歌曲
4. 点击“🎵 试听”按钮跳转到网易云音乐搜索

#### 转换音频

1. 在页面顶部找到“网易云音乐转MP3工具”
2. 点击或拖拽上传音频文件
3. 点击“🔄 开始转换”按钮
4. 等待转换完成，文件会自动下载

### 注意事项

⚠️ **NCM 格式限制**：

- 网易云音乐的 NCM 格式是加密的
- 基础 Web Audio API 无法直接解密 NCM 文件
- 建议使用专业的 NCM 解密工具（如 ncmdump）
- 其他格式（FLAC、WAV、M4A 等）可以正常转换

### 性能优化

- 使用 CSS Grid 实现响应式布局
- 延迟加载图片（使用 picsum 占位图）
- 批量处理音频文件时显示进度
- 优化大文件处理性能

### 浏览器兼容性

- Chrome 60+
- Firefox 55+
- Safari 11+
- Edge 79+

需要支持：

- Web Audio API
- FileReader API
- Blob API
- CSS Grid

### 未来计划

- [ ] 添加歌曲搜索功能
- [ ] 实现歌单收藏功能
- [ ] 优化 NCM 格式解密
- [ ] 添加更多音频格式支持
- [ ] 实现在线播放功能
- [ ] 添加歌词显示

---

**开发时间**：2024年  
**版本**：v2.0  
**状态**：✅ 已完成
